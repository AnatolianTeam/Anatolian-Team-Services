"use strict";(self.webpackChunkservice=self.webpackChunkservice||[]).push([[1463],{38745:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"Testnet Archive/initia/oracle","title":"\ud83d\udcbe Oracle","description":"Oracle installation guide.","source":"@site/docs/Testnet Archive/initia/oracle.md","sourceDirName":"Testnet Archive/initia","slug":"/Testnet Archive/initia/oracle","permalink":"/tr/docs/Testnet Archive/initia/oracle","draft":false,"unlisted":false,"editUrl":"https://github.com/AnatolianTeam/Anatolian-Team-Services/tree/master/docs/Testnet Archive/initia/oracle.md","tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcbe Oracle","description":"Oracle installation guide.","image":"./img/Initia-Service-Cover.jpg","keywords":["initia","oracle","installation","snapshot","statesync","update"]},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udcbe Installation","permalink":"/tr/docs/Testnet Archive/initia/installation"},"next":{"title":"\ud83d\udcf8 Snapshot","permalink":"/tr/docs/Testnet Archive/initia/snapshot"}}');var s=i(74848),l=i(28453);const a={title:"\ud83d\udcbe Oracle",description:"Oracle installation guide.",image:"./img/Initia-Service-Cover.jpg",keywords:["initia","oracle","installation","snapshot","statesync","update"]},c="Oracle Installation",r={image:i(18850).A},o=[{value:"Installing the Oracle",id:"installing-the-oracle",level:2},{value:"Creating the Service File",id:"creating-the-service-file",level:2},{value:"Configuring the Initia Node",id:"configuring-the-initia-node",level:2},{value:"Enabling and Starting the Services",id:"enabling-and-starting-the-services",level:2},{value:"Checking the Initia Logs",id:"checking-the-initia-logs",level:2},{value:"Checking the Oracle Logs",id:"checking-the-oracle-logs",level:2},{value:"Completely Deleting the Node",id:"completely-deleting-the-node",level:2}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"oracle-installation",children:"Oracle Installation"})}),"\n",(0,s.jsx)(n.h2,{id:"installing-the-oracle",children:"Installing the Oracle"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd $HOME\ngit clone https://github.com/skip-mev/slinky.git\ncd slinky\ngit checkout v0.4.3\nmake build\nmv build/slinky /usr/local/bin/\n"})}),"\n",(0,s.jsx)(n.h2,{id:"creating-the-service-file",children:"Creating the Service File"}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["If you ",(0,s.jsx)(n.code,{children:"have not done"})," the node installation according to our guide, change the ",(0,s.jsx)(n.code,{children:"127.0.0.1:${INITIA_PORT}090"})," section in the code below according to which port your node uses. Ex.: ",(0,s.jsx)(n.code,{children:"127.0.0.1:15090"})]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"tee /etc/systemd/system/slinkyd.service > /dev/null <<EOF\n[Unit]\nDescription=Initia Slinky Oracle\nAfter=network-online.target\n[Service]\nUser=$USER\nExecStart=$(which slinky) --oracle-config-path $HOME/slinky/config/core/oracle.json --market-map-endpoint 127.0.0.1:${INITIA_PORT}090\nRestart=on-failure\nRestartSec=30\nLimitNOFILE=65535\n[Install]\nWantedBy=multi-user.target\nEOF\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuring-the-initia-node",children:"Configuring the Initia Node"}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["If you have not done the node setup according to our guide, use the 2nd code below and change the 'PORT' section according to which port your node uses. Ex.: ",(0,s.jsx)(n.code,{children:"PORT=15080"})]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'sed -i.bak -e "\ns|oracle_address = \\"\\"|oracle_address = \\"127.0.0.1:${INITIA_PORT}080\\"|\n" $HOME/.initia/config/app.toml\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'PORT=15080\nsed -i.bak -e "\ns|oracle_address = \\"\\"|oracle_address = \\"127.0.0.1:${PORT}\\"|\n" $HOME/.initia/config/app.toml\n'})}),"\n",(0,s.jsx)(n.h2,{id:"enabling-and-starting-the-services",children:"Enabling and Starting the Services"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"systemctl daemon-reload\nsystemctl enable slinkyd.service\nsystemctl start slinkyd.service\nsystemctl restart initiad\n"})}),"\n",(0,s.jsx)(n.h2,{id:"checking-the-initia-logs",children:"Checking the Initia Logs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"journalctl -u initiad -f -o cat\n"})}),"\n",(0,s.jsx)(n.h2,{id:"checking-the-oracle-logs",children:"Checking the Oracle Logs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"journalctl -u slinkyd -f -o cat\n"})}),"\n",(0,s.jsx)(n.h2,{id:"completely-deleting-the-node",children:"Completely Deleting the Node"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"systemctl stop slinkyd && \\\nsystemctl disable slinkyd && \\\nrm /etc/systemd/system/slinkyd.service && \\\nsystemctl daemon-reload && \\\ncd $HOME && \\\nrm -rf .slinky slinky && \\\nrm -rf $(which slinkyd)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},18850:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Initia-Service-Cover-3cd644af547f7267f9f96f1cf35e856b.jpg"},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>c});var t=i(96540);const s={},l=t.createContext(s);function a(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);