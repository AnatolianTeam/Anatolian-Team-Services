"use strict";(self.webpackChunkservice=self.webpackChunkservice||[]).push([[5591],{5353:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var t=i(5893),a=i(1151);const r={title:"\ud83d\udcbe Installation",description:"Ar.io Node Installation guide.",image:"./img/Ar-Service-Cover.jpg",keywords:["Ar.io","Ar","Permaweb","installation"]},l="Ar.io Node Installation",o={id:"Testnet/ar.io/installation",title:"\ud83d\udcbe Installation",description:"Ar.io Node Installation guide.",source:"@site/docs/Testnet/ar.io/installation.md",sourceDirName:"Testnet/ar.io",slug:"/Testnet/ar.io/installation",permalink:"/docs/Testnet/ar.io/installation",draft:!1,unlisted:!1,editUrl:"https://github.com/AnatolianTeam/Anatolian-Team-Services/tree/master/docs/Testnet/ar.io/installation.md",tags:[],version:"current",frontMatter:{title:"\ud83d\udcbe Installation",description:"Ar.io Node Installation guide.",image:"./img/Ar-Service-Cover.jpg",keywords:["Ar.io","Ar","Permaweb","installation"]},sidebar:"tutorialSidebar",previous:{title:"Ar.io",permalink:"/docs/Testnet/ar.io/"},next:{title:"\u25b6\ufe0f Joining the Testnet",permalink:"/docs/Testnet/ar.io/join-ario"}},s={image:i(1884).Z},d=[{value:"Domain",id:"domain",level:2},{value:"Creating a Subdomain",id:"creating-a-subdomain",level:3},{value:"Creating a Wallet and Sending AR Tokens to the Wallet",id:"creating-a-wallet-and-sending-ar-tokens-to-the-wallet",level:2},{value:"Updating the System and Installing Required Libraries",id:"updating-the-system-and-installing-required-libraries",level:2},{value:"NVM Installation",id:"nvm-installation",level:2},{value:"Update",id:"update",level:2},{value:"Activating the Firewall and Opening the Required Ports (OPTIONAL)",id:"activating-the-firewall-and-opening-the-required-ports-optional",level:2},{value:"Nginx Installation",id:"nginx-installation",level:2},{value:"Ar.io Node Installation",id:"ario-node-installation-1",level:2},{value:"Cloning Repo",id:"cloning-repo",level:3},{value:"Editing the .env File",id:"editing-the-env-file",level:3},{value:"Running the Node",id:"running-the-node",level:2},{value:"Loglar\u0131 Kontrol Etme",id:"loglar\u0131-kontrol-etme",level:2},{value:"Checking Logs",id:"checking-logs",level:2},{value:"Set up Networking",id:"set-up-networking",level:2},{value:"Create SSL (HTTPS) Certificates for Your Domain:",id:"create-ssl-https-certificates-for-your-domain",level:3},{value:"Preparing Nginx .conf Files",id:"preparing-nginx-conf-files",level:3},{value:"Checking the Website",id:"checking-the-website",level:3},{value:"Restarting the Node",id:"restarting-the-node",level:3},{value:"Checking the Node",id:"checking-the-node",level:3},{value:"Application to Participate in Testnet",id:"application-to-participate-in-testnet",level:2},{value:"Joining the Ar.io Testnet",id:"joining-the-ario-testnet",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"ario-node-installation",children:"Ar.io Node Installation"}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Make sure your server has Ubuntu 22.04."})}),"\n",(0,t.jsx)(n.h2,{id:"domain",children:"Domain"}),"\n",(0,t.jsx)(n.p,{children:"Before starting, you must have a domain. Get yourself a domain from a service provider. You can find a domain for $1 per year."}),"\n",(0,t.jsx)(n.h3,{id:"creating-a-subdomain",children:"Creating a Subdomain"}),"\n",(0,t.jsx)(n.p,{children:"Go to your service provider's panel and enter the advanced DNS settings or IP Based DNS settings section. Create 2 A records here."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["For the first ",(0,t.jsx)(n.code,{children:"A"})," record, write ",(0,t.jsx)(n.code,{children:"ar"})," or ",(0,t.jsx)(n.code,{children:"ario"})," in the ",(0,t.jsx)(n.code,{children:"record name"})," section and the ",(0,t.jsx)(n.code,{children:"IP address"})," of your server in the ",(0,t.jsx)(n.code,{children:"value"})," section and save."]}),"\n",(0,t.jsxs)(n.li,{children:["In the second ",(0,t.jsx)(n.code,{children:"A"})," record, write ",(0,t.jsx)(n.code,{children:"*.ar"})," or ",(0,t.jsx)(n.code,{children:"*.ario"})," in the 'record name' section and the ",(0,t.jsx)(n.code,{children:"IP address"})," of your server in the same manner in the ",(0,t.jsx)(n.code,{children:"value"})," section and save it."]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["When the time comes, we will take action here again, this time we will create a ",(0,t.jsx)(n.code,{children:"TXT"})," record."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"creating-a-wallet-and-sending-ar-tokens-to-the-wallet",children:"Creating a Wallet and Sending AR Tokens to the Wallet"}),"\n",(0,t.jsxs)(n.p,{children:["Install the wallet in your browser from ",(0,t.jsx)(n.a,{href:"https://www.arconnect.io/",children:"ArConnect"})," and create a wallet."]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Don't forget to save your wallet mnemonics in a safe place."})}),"\n",(0,t.jsxs)(n.p,{children:["Send $5-10 worth of ",(0,t.jsx)(n.a,{href:"https://www.coingecko.com/en/coins/arweave",children:"Ar token"})," to your wallet."]}),"\n",(0,t.jsx)(n.h2,{id:"updating-the-system-and-installing-required-libraries",children:"Updating the System and Installing Required Libraries"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'apt update -y && apt upgrade -y && apt install -y curl openssh-server docker-compose git certbot nginx sqlite3 build-essential && systemctl enable ssh && curl -sSL https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - && echo "deb https://dl.yarnpkg.com/debian/ stable main" | tee /etc/apt/sources.list.d/yarn.list && apt-get update -y && apt-get install -y yarn && curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash && source ~/.bashrc\n'})}),"\n",(0,t.jsx)(n.h2,{id:"nvm-installation",children:"NVM Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"nvm install 18.8.0 && nvm use 18.8.0\n"})}),"\n",(0,t.jsx)(n.h2,{id:"update",children:"Update"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"apt update -y && apt upgrade -y\n"})}),"\n",(0,t.jsx)(n.h2,{id:"activating-the-firewall-and-opening-the-required-ports-optional",children:"Activating the Firewall and Opening the Required Ports (OPTIONAL)"}),"\n",(0,t.jsx)(n.p,{children:"If you are using a server like Contabo, you do not need to do these."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"ufw enable\n\n# Optional: If using SSH, allow port 22\nufw allow 22\n\n# Allow ports 80 and 443 for HTTP and HTTPS\nufw allow 80\nufw allow 443\n"})}),"\n",(0,t.jsx)(n.h2,{id:"nginx-installation",children:"Nginx Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"apt install nginx -y\n"})}),"\n",(0,t.jsx)(n.h2,{id:"ario-node-installation-1",children:"Ar.io Node Installation"}),"\n",(0,t.jsx)(n.h3,{id:"cloning-repo",children:"Cloning Repo"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"git clone -b main https://github.com/ar-io/ar-io-node\ncd ar-io-node\n"})}),"\n",(0,t.jsx)(n.h3,{id:"editing-the-env-file",children:"Editing the .env File"}),"\n",(0,t.jsx)(n.p,{children:"Open file."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"nano .env\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Then, we edit the codes below according to our needs and save them by pressing ",(0,t.jsx)(n.code,{children:"CTRL X"})," and ",(0,t.jsx)(n.code,{children:"Enter"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Two different wallet addresses are used here, but we will use the same wallet as the Observer wallet. We do this to reduce costs."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"GRAPHQL_HOST=arweave.net\nGRAPHQL_PORT=443\nSTART_HEIGHT=0\nRUN_OBSERVER=true\nARNS_ROOT_HOST=DOMA\u0130N_ADDRESS // Example: ar.domain.com\nAR_IO_WALLET=WaLLET_ADDRESS\nOBSERVER_WALLET=WaLLET_ADDRESS\n"})}),"\n",(0,t.jsx)(n.h2,{id:"running-the-node",children:"Running the Node"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"docker-compose up -d\n"})}),"\n",(0,t.jsx)(n.h2,{id:"loglar\u0131-kontrol-etme",children:"Loglar\u0131 Kontrol Etme"}),"\n",(0,t.jsx)(n.h2,{id:"checking-logs",children:"Checking Logs"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"docker-compose logs -f --tail=0\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can close the logs by saying ",(0,t.jsx)(n.code,{children:"CTRL C"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"set-up-networking",children:"Set up Networking"}),"\n",(0,t.jsx)(n.h3,{id:"create-ssl-https-certificates-for-your-domain",children:"Create SSL (HTTPS) Certificates for Your Domain:"}),"\n",(0,t.jsx)(n.p,{children:"After editing your email address and domain in the code below, run the code."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"certbot certonly --manual --preferred-challenges dns --email EMAIL_ADDRESS -d ar.domain.com -d '*.ar.domain.com'\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["After entering the code, you will pass the places where you need to write ",(0,t.jsx)(n.code,{children:"yes"})," to accept it."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["Be careful in this part. It will give you two codes for the ",(0,t.jsx)(n.code,{children:"TXT"})," record, one is ",(0,t.jsx)(n.code,{children:"Record name"})," and the other is ",(0,t.jsx)(n.code,{children:"value"}),". You will add them to your service provider."]})}),"\n",(0,t.jsxs)(n.p,{children:["Please pay attention to the following when recording ",(0,t.jsx)(n.code,{children:"TXT"}),". If your domain name is ",(0,t.jsx)(n.code,{children:"ar.domain.com"}),", your registration name will be: ",(0,t.jsx)(n.code,{children:"_acme-challenge.ar"}),"\nYou will use 'the code given in the output' as the value."]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["Before moving on to the next step, go to a DNS Checker and search for ",(0,t.jsx)(n.code,{children:"_acme-challenge.ar.domain.com"})," to see if the record is propagated. Propagation may take a while. Press ",(0,t.jsx)(n.code,{children:"Enter"})," when the propagation starts."]})}),"\n",(0,t.jsx)(n.p,{children:"Finally, you will receive a printout showing you the directory of your certificate files."}),"\n",(0,t.jsx)(n.h3,{id:"preparing-nginx-conf-files",children:"Preparing Nginx .conf Files"}),"\n",(0,t.jsx)(n.p,{children:"We create a new .conf file."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"nano /etc/nginx/conf.d/ar.node.conf\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Ard\u0131ndan  a\u015fa\u011f\u0131daki kodlar\u0131 kendinize g\xf6re d\xfczenleyerek bu dosyaya kaydedip \xe7\u0131k\u0131yoruz. \xc7\u0131kmak i\xe7in ",(0,t.jsx)(n.code,{children:"CTRL X"})," ard\u0131ndan ",(0,t.jsx)(n.code,{children:"Enter"})," diyoruz."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ar.domain.com"})," yazan yerleri kendi alan ad\u0131n\u0131za g\xf6re d\xfczenleyiniz."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"server {\n    listen 443 ssl;\n    listen [::]:443 ssl;\n    server_name ar.domain.com *.ar.domain.com;\n\n    ssl_certificate /etc/letsencrypt/live/ar.domain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/ar.domain.com/privkey.pem;\n\n    location / {\n        proxy_pass http://localhost:3000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_http_version 1.1;\n    }\n\n}\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name ar.domain.com *.ar.domain.com;\n\n    location / {\n        return 301 https://$host$request_uri;\n    }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Then we enter the following codes one by one."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"unlink /etc/nginx/sites-enabled/default\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"nginx -t\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you do not see an error in the output of this code, it will give an output of OK. This shows that there is no problem with nginx settings."}),"\n",(0,t.jsx)(n.p,{children:"Finally, we restart the nginx service."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"service nginx restart\n"})}),"\n",(0,t.jsx)(n.h3,{id:"checking-the-website",children:"Checking the Website"}),"\n",(0,t.jsx)(n.p,{children:"Go to your domain address in your browser and if you get an output similar to the one below, everything is fine."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'{"network":"arweave.N.1","version":5,"release":68,"height":1385242,"current":"2tbqNmxc88z9Pzhlx5kKlwUOpk4hne23iMmLnFATDcQ2c-o7gtVKWJSg5twg6iMu","blocks":1385243,"peers":94,"queue_length":0,"node_state_latency":1}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"restarting-the-node",children:"Restarting the Node"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"sudo docker-compose down\nsudo docker-compose up -d\n"})}),"\n",(0,t.jsx)(n.h3,{id:"checking-the-node",children:"Checking the Node"}),"\n",(0,t.jsxs)(n.p,{children:["Write your domain at the address below and check.\n",(0,t.jsx)(n.a,{href:"https://ar.domain.com/3lyxgbgEvqNSvJrTX2J7CfRychUD5KClFhhVLyTPNCQ",children:"https://ar.domain.com/3lyxgbgEvqNSvJrTX2J7CfRychUD5KClFhhVLyTPNCQ"})]}),"\n",(0,t.jsx)(n.h2,{id:"application-to-participate-in-testnet",children:"Application to Participate in Testnet"}),"\n",(0,t.jsxs)(n.p,{children:["To participate in the ar.io Testnet, it is necessary to stake at least 10,000 Test IO tokens. To get Test IO token, we type ",(0,t.jsx)(n.code,{children:"/apply"})," in the ",(0,t.jsx)(n.code,{children:"#testnet"})," channel on the ",(0,t.jsx)(n.a,{href:"https://discord.gg/ApxXjvwECK",children:"ar.io Discord"})," server and select ",(0,t.jsx)(n.code,{children:"Application to join the ar.io Testnet!"})," and and a bot is messaging us. We answer the questions there. Then we wait for the testnet tokens to arrive..."]}),"\n",(0,t.jsx)(n.h2,{id:"joining-the-ario-testnet",children:"Joining the Ar.io Testnet"}),"\n",(0,t.jsx)(n.p,{children:"If you will find this step on the other page. Go to the next page..."})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},1884:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/Ar-Service-Cover-49ebf40c9e3aa2acc0dd75949bfc6524.jpg"},1151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>l});var t=i(7294);const a={},r=t.createContext(a);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);