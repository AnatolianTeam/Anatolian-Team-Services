"use strict";(self.webpackChunkservice=self.webpackChunkservice||[]).push([[4472],{23020:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>d,toc:()=>o});var a=n(85893),s=n(11151);const r={title:"\ud83c\udd99 Update",description:"Update node.",image:"./img/Penumbra-Service-Cover.jpg",keywords:["penumbra","installation","snapshot","statesync","update"]},i="Update",d={id:"Testnet/penumbra/update",title:"\ud83c\udd99 Update",description:"Update node.",source:"@site/docs/Testnet/penumbra/update.md",sourceDirName:"Testnet/penumbra",slug:"/Testnet/penumbra/update",permalink:"/docs/Testnet/penumbra/update",draft:!1,unlisted:!1,editUrl:"https://github.com/AnatolianTeam/Anatolian-Team-Services/tree/master/docs/Testnet/penumbra/update.md",tags:[],version:"current",frontMatter:{title:"\ud83c\udd99 Update",description:"Update node.",image:"./img/Penumbra-Service-Cover.jpg",keywords:["penumbra","installation","snapshot","statesync","update"]},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udcbe Installation",permalink:"/docs/Testnet/penumbra/installation"},next:{title:"\ud83d\udc64 User Guide",permalink:"/docs/Testnet/penumbra/user-guide"}},l={image:n(24113).Z},o=[{value:"Stopping the Services",id:"stopping-the-services",level:2},{value:"Update the Penumbra Command Line Interface (CLI)",id:"update-the-penumbra-command-line-interface-cli",level:2},{value:"Update the Penumbra Clientd",id:"update-the-penumbra-clientd",level:2},{value:"Update the pd",id:"update-the-pd",level:2},{value:"Resetting Data",id:"resetting-data",level:2},{value:"Snap Download",id:"snap-download",level:2},{value:"Migrate",id:"migrate",level:2},{value:"Restartin the Services",id:"restartin-the-services",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"update",children:"Update"}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsx)(t.p,{children:"Update: v0.77.2"})}),"\n",(0,a.jsx)(t.h2,{id:"stopping-the-services",children:"Stopping the Services"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"systemctl stop penumbra cometbft\n"})}),"\n",(0,a.jsx)(t.h2,{id:"update-the-penumbra-command-line-interface-cli",children:"Update the Penumbra Command Line Interface (CLI)"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"curl --proto '=https' --tlsv1.2 -LsSf https://github.com/penumbra-zone/penumbra/releases/download/v0.77.2/pcli-installer.sh | sh\n"})}),"\n",(0,a.jsx)(t.h2,{id:"update-the-penumbra-clientd",children:"Update the Penumbra Clientd"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"curl --proto '=https' --tlsv1.2 -LsSf https://github.com/penumbra-zone/penumbra/releases/download/v0.77.2/pclientd-installer.sh | sh\n"})}),"\n",(0,a.jsx)(t.h2,{id:"update-the-pd",children:"Update the pd"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"curl --proto '=https' --tlsv1.2 -LsSf https://github.com/penumbra-zone/penumbra/releases/download/v0.77.2/pd-installer.sh | sh\n"})}),"\n",(0,a.jsx)(t.h2,{id:"resetting-data",children:"Resetting Data"}),"\n",(0,a.jsx)(t.p,{children:"We reset remaining testnet data from previous testnets."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"pd testnet unsafe-reset-all\n"})}),"\n",(0,a.jsx)(t.h2,{id:"snap-download",children:"Snap Download"}),"\n",(0,a.jsx)(t.admonition,{type:"warning",children:(0,a.jsxs)(t.p,{children:["Check the correct snap address ",(0,a.jsx)(t.a,{href:"https://guide.penumbra.zone/node/pd/join-testnet.html",children:"here"})," according to the update status.\nBelow is the snap to be used to migrate from version 76 to 77."]})}),"\n",(0,a.jsxs)(t.p,{children:["Edit the ",(0,a.jsx)(t.code,{children:"IP_ADDRESS"})," and ",(0,a.jsx)(t.code,{children:"MY_NODE_NAME"})," sections according to your needs."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:'pd testnet join --external-address IP_ADDRESS:26656 --moniker MY_NODE_NAME \\\n --archive-url "https://snapshots.penumbra.zone/testnet/pd-migrated-state-76-77.tar.gz"\n'})}),"\n",(0,a.jsx)(t.h2,{id:"migrate",children:"Migrate"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"pd migrate --home PD_HOME --comet-home COMETBFT_HOME\n"})}),"\n",(0,a.jsx)(t.h2,{id:"restartin-the-services",children:"Restartin the Services"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"systemctl restart penumbra cometbft\n"})})]})}function p(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},24113:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Penumbra-Service-Cover-9b8346501f1f076cba2beda8f0510843.jpg"},11151:(e,t,n)=>{n.d(t,{Z:()=>d,a:()=>i});var a=n(67294);const s={},r=a.createContext(s);function i(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);